{"ast":null,"code":"import _readOnlyError from \"@babel/runtime/helpers/readOnlyError\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/workspace/LMSapp/lmsapp/Screens/profile.js\";\n\nimport React, { useEffect } from 'react';\nimport axios from 'axios';\nimport IssuedBooks from \"../Screens/issued_books\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { BottomNavigation, Title, Card, Subheading } from 'react-native-paper';\nimport GLOBAL from \"../global\";\n\nvar Profile = function Profile(props) {\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      user = _React$useState2[0],\n      setUser = _React$useState2[1];\n\n  var _React$useState3 = React.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      updateState = _React$useState4[1];\n\n  var forceUpdate = React.useCallback(function () {\n    return updateState({});\n  }, []);\n\n  var fetchUser = function fetchUser() {\n    var apiUrl = 'https://lmsappapi.herokuapp.com/profile';\n    axios.get(apiUrl, {\n      headers: {\n        'Content-Type': 'application/json',\n        'authorization': GLOBAL.token\n      }\n    }).then(function (data) {\n      var User = data.data.user;\n      console.log(User, GLOBAL.token);\n      setUser(User);\n      console.log(user);\n    });\n  };\n\n  console.log(user);\n  useEffect(function () {\n    fetchUser();\n  }, []);\n  useEffect(function () {\n    var count = 0;\n    if (count == 0) forceUpdate();\n    count += (_readOnlyError(\"count\"), 1);\n  });\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, React.createElement(Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 40\n    }\n  }, \"Profile\"), '\\n\\n', user == null ? void 0 : user.name, \"'s profile\", global.token ? \"yes\" : \"no\", React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, \"Name: \", user == null ? void 0 : user.name, '\\n'), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"email: \", user == null ? void 0 : user.email, '\\n'), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, \"Issued Books\", '\\n'), React.createElement(IssuedBooks, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    flex: 1\n  },\n  item: {\n    backgroundColor: '#f9c2ff',\n    padding: 20,\n    marginVertical: 8,\n    marginHorizontal: 16\n  },\n  title: {\n    fontSize: 32\n  }\n});\nexport default Profile;","map":{"version":3,"sources":["/workspace/LMSapp/lmsapp/Screens/profile.js"],"names":["React","useEffect","axios","IssuedBooks","BottomNavigation","Title","Card","Subheading","GLOBAL","Profile","props","useState","user","setUser","updateState","forceUpdate","useCallback","fetchUser","apiUrl","get","headers","token","then","data","User","console","log","count","styles","container","name","global","email","StyleSheet","create","justifyContent","alignItems","flex","item","backgroundColor","padding","marginVertical","marginHorizontal","title","fontSize"],"mappings":"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","sourcesContent":["\nimport React,{useEffect} from 'react';\nimport axios from 'axios'\nimport IssuedBooks from '../Screens/issued_books';\nimport { View,StyleSheet,Text,Button } from 'react-native';\nimport { BottomNavigation, Title, Card, Subheading } from 'react-native-paper';\nimport GLOBAL from '../global'\n\nconst Profile=(props)=>{\n\n    \n    const [user,setUser]=React.useState();\n\n    const [, updateState] = React.useState();\nconst forceUpdate = React.useCallback(() => updateState({}), []);\n\n\n\n    const fetchUser=()=>{\n        const apiUrl = 'https://lmsappapi.herokuapp.com/profile';\n    axios.get(apiUrl,{headers: {\n            'Content-Type': 'application/json',\n            'authorization':GLOBAL.token\n        }}).then((data) => {\n      const User = data.data.user;\n      console.log(User,GLOBAL.token);\n      setUser(User);\n      console.log(user);\n    }\n    );\n}\n\n    console.log(user)\n\n    useEffect(()=>{fetchUser()},\n    []);\n\n    useEffect(()=>{\n        const count=0;\n        if(count==0)\n        forceUpdate();\n    count+=1;})\n\n    return(\n        <View style={styles.container}><Title>Profile</Title>{'\\n\\n'}{user?.name}'s profile{global.token?\"yes\":\"no\"}\n\n        <Text>Name: {user?.name}{'\\n'}</Text>\n        <Text>email: {user?.email}{'\\n'}</Text>\n        <Text>Issued Books{'\\n'}</Text>\n        <IssuedBooks />\n        </View>\n    )\n\n}\n\nconst styles = StyleSheet.create({\n  container: {\n      justifyContent:'center',\n      alignItems:'center',\n    flex: 1,\n    \n    \n  },\n  item: {\n    backgroundColor: '#f9c2ff',\n    padding: 20,\n    marginVertical: 8,\n    marginHorizontal: 16,\n  },\n  title: {\n    fontSize: 32,\n  },\n});\n\nexport default Profile"]},"metadata":{},"sourceType":"module"}