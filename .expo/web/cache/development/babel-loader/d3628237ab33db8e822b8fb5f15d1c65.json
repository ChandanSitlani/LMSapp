{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/workspace/LMSapp/lmsapp/Screens/show_books.js\";\n\nisSecureContext.js;\nimport React, { useEffect } from 'react';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { BottomNavigation, TextInput, Text, Title, Card, Subheading } from 'react-native-paper';\nimport ShowCard from \"../Screens/show_card\";\nimport axios from 'axios';\nvar DATA = [{\n  id: 'bd7acbea-c1b1-46c2-aed5-3ad53abb28ba',\n  title: 'First Item'\n}, {\n  id: '3ac68afc-c605-48d3-a4f8-fbd91aa97f63',\n  title: 'Second Item'\n}, {\n  id: '58694a0f-3da1-471f-bd96-145571e29d72',\n  title: 'Third Item'\n}];\n\nvar ShowBooks = function ShowBooks(props) {\n  var initialState = [{\n    \"title\": \"Select\"\n  }];\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      bookData = _React$useState2[0],\n      setBookData = _React$useState2[1];\n\n  var fetchBooks = function fetchBooks() {\n    var book = props.book;\n    var author = props.author;\n    var apiUrl = 'https://lmsappapi.herokuapp.com/search/';\n    console.log(apiUrl);\n    axios.post(apiUrl, {\n      bname: book,\n      aname: author\n    }, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (data) {\n      var books = data.data;\n      console.log(\"data\", books);\n      setBookData(books);\n      return data;\n    });\n  };\n\n  console.log(bookData, setBookData);\n  useEffect(function () {\n    fetchBooks();\n  }, []);\n  useEffect(function () {\n    console.log(bookData);\n  }, []);\n\n  var renderItem = function renderItem(item) {\n    return React.createElement(Text, {\n      key: item.id,\n      title: item.title,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }\n    });\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    width: \"100%\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, bookData ? React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 23\n    }\n  }, \"Total Books:\", bookData.length) : React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 66\n    }\n  }, \"Enter author name\"), DATA[0].title, props.book, '\\n', props.author, React.createElement(FlatList, {\n    data: bookData,\n    extraData: bookData,\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(Card, {\n        style: styles.item,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 34\n        }\n      }, React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }\n      }, \"Name: \", item.name, '\\n', React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }, \"Author: \", item.author, '\\n'), React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }\n      }, \"Shelf No.: \", item.ShelfNo || 'Unknown', '\\n'), React.createElement(Text, {\n        style: item.Status == 'Available' ? styles.available : styles.issued,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }\n      }, \"Status: \", item.Status, '\\n')));\n    },\n    keyExtractor: function keyExtractor(item) {\n      return item._id;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: StatusBar.currentHeight || 0\n  },\n  item: {\n    backgroundColor: '#f9c2ff',\n    padding: 20,\n    marginVertical: 8,\n    marginHorizontal: 16\n  },\n  issued: {\n    color: '#FF0000'\n  },\n  available: {\n    color: '#008000'\n  },\n  title: {\n    fontSize: 32\n  }\n});\nexport default ShowBooks;","map":{"version":3,"sources":["/workspace/LMSapp/lmsapp/Screens/show_books.js"],"names":["isSecureContext","js","React","useEffect","BottomNavigation","TextInput","Text","Title","Card","Subheading","ShowCard","axios","DATA","id","title","ShowBooks","props","initialState","useState","bookData","setBookData","fetchBooks","book","author","apiUrl","console","log","post","bname","aname","headers","then","data","books","renderItem","item","styles","container","length","name","ShelfNo","Status","available","issued","_id","StyleSheet","create","flex","marginTop","StatusBar","currentHeight","backgroundColor","padding","marginVertical","marginHorizontal","color","fontSize"],"mappings":";;;;;AAAAA,eAAe,CAACC,EAAhB;AACA,OAAOC,KAAP,IAAcC,SAAd,QAA8B,OAA9B;;;;;;;;AAEA,SAASC,gBAAT,EAA0BC,SAA1B,EAAqCC,IAArC,EAA2CC,KAA3C,EAAkDC,IAAlD,EAAwDC,UAAxD,QAA0E,oBAA1E;AACA,OAAOC,QAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,IAAI,GAAG,CACX;AACEC,EAAAA,EAAE,EAAE,sCADN;AAEEC,EAAAA,KAAK,EAAE;AAFT,CADW,EAKX;AACED,EAAAA,EAAE,EAAE,sCADN;AAEEC,EAAAA,KAAK,EAAE;AAFT,CALW,EASX;AACED,EAAAA,EAAE,EAAE,sCADN;AAEEC,EAAAA,KAAK,EAAE;AAFT,CATW,CAAb;;AAeA,IAAMC,SAAS,GAAC,SAAVA,SAAU,CAACC,KAAD,EAAS;AAErB,MAAMC,YAAY,GAAC,CAAC;AAAC,aAAQ;AAAT,GAAD,CAAnB;;AAFqB,wBAMQf,KAAK,CAACgB,QAAN,EANR;AAAA;AAAA,MAMdC,QANc;AAAA,MAMLC,WANK;;AAQrB,MAAMC,UAAU,GAAC,SAAXA,UAAW,GAAI;AACjB,QAAMC,IAAI,GAACN,KAAK,CAACM,IAAjB;AACJ,QAAMC,MAAM,GAACP,KAAK,CAACO,MAAnB;AAGA,QAAMC,MAAM,GAAG,yCAAf;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AAEAb,IAAAA,KAAK,CAACgB,IAAN,CAAWH,MAAX,EAAkB;AAACI,MAAAA,KAAK,EAACN,IAAP;AAAYO,MAAAA,KAAK,EAACN;AAAlB,KAAlB,EAA4C;AAACO,MAAAA,OAAO,EAAE;AAC9C,wBAAgB;AAD8B;AAAV,KAA5C,EAEQC,IAFR,CAEa,UAACC,IAAD,EAAU;AACrB,UAAMC,KAAK,GAAGD,IAAI,CAACA,IAAnB;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBO,KAAnB;AACAb,MAAAA,WAAW,CAACa,KAAD,CAAX;AAEA,aAAOD,IAAP;AAID,KAXD;AAYH,GApBG;;AAqBJP,EAAAA,OAAO,CAACC,GAAR,CAAYP,QAAZ,EAAqBC,WAArB;AAEIjB,EAAAA,SAAS,CAAC,YAAI;AACVkB,IAAAA,UAAU;AACb,GAFQ,EAEP,EAFO,CAAT;AAGAlB,EAAAA,SAAS,CAAC,YAAI;AAACsB,IAAAA,OAAO,CAACC,GAAR,CAAYP,QAAZ;AAAuB,GAA7B,EAA8B,EAA9B,CAAT;;AAKI,MAAMe,UAAU,GAAG,SAAbA,UAAa,CAAEC,IAAF,EAAY;AAAC,WACpC,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAEA,IAAI,CAACtB,EAAhB;AAAoB,MAAA,KAAK,EAAEsB,IAAI,CAACrB,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADoC;AAG/B,GAHD;;AAKA,SACA,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAEsB,MAAM,CAACC,SAA5B;AAAuC,IAAA,KAAK,EAAC,MAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKlB,QAAQ,GAAC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAmBA,QAAQ,CAACmB,MAA5B,CAAD,GAA4C,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADzD,EAEK1B,IAAI,CAAC,CAAD,CAAJ,CAAQE,KAFb,EAGKE,KAAK,CAACM,IAHX,EAGiB,IAHjB,EAIKN,KAAK,CAACO,MAJX,EAKF,oBAAC,QAAD;AACE,IAAA,IAAI,EAAEJ,QADR;AAEE,IAAA,SAAS,EAAEA,QAFb;AAGE,IAAA,UAAU,EAAE;AAAA,UAAEgB,IAAF,QAAEA,IAAF;AAAA,aAAa,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEC,MAAM,CAACD,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACrB,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAO,QAAP,EAAiBA,IAAI,CAACI,IAAtB,EAA4B,IAA5B,EACA,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAeJ,IAAI,CAACZ,MAApB,EAA4B,IAA5B,CADA,EAEA,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAkBY,IAAI,CAACK,OAAL,IAAc,SAAhC,EAA2C,IAA3C,CAFA,EAGA,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEL,IAAI,CAACM,MAAL,IAAa,WAAb,GAAyBL,MAAM,CAACM,SAAhC,GAA0CN,MAAM,CAACO,MAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAA+ER,IAAI,CAACM,MAApF,EAA4F,IAA5F,CAHA,CADqB,CAAb;AAAA,KAHd;AAWE,IAAA,YAAY,EAAE,sBAACN,IAAD;AAAA,aAAUA,IAAI,CAACS,GAAf;AAAA,KAXhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALE,CADA;AA+BP,CA3ED;;AA6EA,IAAMR,MAAM,GAAGS,UAAU,CAACC,MAAX,CAAkB;AAC/BT,EAAAA,SAAS,EAAE;AACTU,IAAAA,IAAI,EAAE,CADG;AAETC,IAAAA,SAAS,EAAEC,SAAS,CAACC,aAAV,IAA2B;AAF7B,GADoB;AAM/Bf,EAAAA,IAAI,EAAE;AACJgB,IAAAA,eAAe,EAAE,SADb;AAEJC,IAAAA,OAAO,EAAE,EAFL;AAGJC,IAAAA,cAAc,EAAE,CAHZ;AAIJC,IAAAA,gBAAgB,EAAE;AAJd,GANyB;AAY/BX,EAAAA,MAAM,EAAC;AACHY,IAAAA,KAAK,EAAE;AADJ,GAZwB;AAe/Bb,EAAAA,SAAS,EAAC;AACNa,IAAAA,KAAK,EAAE;AADD,GAfqB;AAkB/BzC,EAAAA,KAAK,EAAE;AACL0C,IAAAA,QAAQ,EAAE;AADL;AAlBwB,CAAlB,CAAf;AAyBA,eAAezC,SAAf","sourcesContent":["isSecureContext.js\nimport React,{useEffect} from 'react';\nimport { ScrollView, View,StatusBar,StyleSheet,SafeAreaView,FlatList,Button } from 'react-native';\nimport { BottomNavigation,TextInput, Text, Title, Card, Subheading } from 'react-native-paper';\nimport ShowCard from '../Screens/show_card';\nimport axios from 'axios'\n\nconst DATA = [\n  {\n    id: 'bd7acbea-c1b1-46c2-aed5-3ad53abb28ba',\n    title: 'First Item',\n  },\n  {\n    id: '3ac68afc-c605-48d3-a4f8-fbd91aa97f63',\n    title: 'Second Item',\n  },\n  {\n    id: '58694a0f-3da1-471f-bd96-145571e29d72',\n    title: 'Third Item',\n  },\n];\n\nconst ShowBooks=(props)=>{\n\n    const initialState=[{\"title\":\"Select\"}]\n\n\n\n    const [bookData,setBookData]=React.useState()\n\n    const fetchBooks=()=>{\n        const book=props.book;\n    const author=props.author;\n        \n\n    const apiUrl = 'https://lmsappapi.herokuapp.com/search/';\n    console.log(apiUrl)\n    \n    axios.post(apiUrl,{bname:book,aname:author},{headers: {\n            'Content-Type': 'application/json',\n        }}).then((data) => {\n      const books = data.data;\n      console.log(\"data\",books);\n      setBookData(books);\n\n      return data;\n      \n      \n    \n    });\n}\nconsole.log(bookData,setBookData);\n\n    useEffect(()=>{\n        fetchBooks()\n    },[])\n    useEffect(()=>{console.log(bookData);},[])\n\n    \n    \n    \n        const renderItem = ( item ) => {return (\n    <Text key={item.id} title={item.title} />\n  );\n        }\n\n        return (\n        <SafeAreaView style={styles.container} width=\"100%\">\n            {bookData?<Text>Total Books:{bookData.length}</Text>:<Text>Enter author name</Text>}\n            {DATA[0].title}\n            {props.book}{'\\n'}\n            {props.author}\n      <FlatList\n        data={bookData}\n        extraData={bookData}\n        renderItem={({item}) => (<Card style={styles.item}>\n            <Text>{\"Name: \"}{item.name}{'\\n'}\n            <Text>Author: {item.author}{'\\n'}</Text>\n            <Text>Shelf No.: {item.ShelfNo||'Unknown'}{'\\n'}</Text>\n            <Text style={item.Status=='Available'?styles.available:styles.issued}>Status: {item.Status}{'\\n'}</Text>\n\n            </Text>\n            </Card>)}\n        keyExtractor={(item) => item._id}\n      />\n    </SafeAreaView>\n  );\n\n  \n\n  \n        \n\n\n        \n        \n    \n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: StatusBar.currentHeight || 0,\n    \n  },\n  item: {\n    backgroundColor: '#f9c2ff',\n    padding: 20,\n    marginVertical: 8,\n    marginHorizontal: 16,\n  },\n  issued:{\n      color: '#FF0000',\n  },\n  available:{\n      color: '#008000',\n  },\n  title: {\n    fontSize: 32,\n  },\n});\n\n\n\nexport default ShowBooks;"]},"metadata":{},"sourceType":"module"}